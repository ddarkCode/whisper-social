(()=>{"use strict";var e={881:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),i=t(645),s=t.n(i)()(a());s.push([e.id,".auth-button {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.auth-button a {\n  border: 1px solid #fff;\n  height: 30px;\n  width: 100px;\n  margin-top: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.add-to-whisper {\n  margin-left: 20px;\n  \n}\n\n\n@media only screen and (max-width:600px) {\n  .add-to-whisper {\n    margin-bottom: 30px;\n    \n  }\n}\n",""]);const o=s},126:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),i=t(645),s=t.n(i)()(a());s.push([e.id,".comments-main {\n  width: 400px;\n  padding: 0 20px;\n  position: absolute;\n  right: 0;\n  height: 100vh;\n  background-color: #fff;\n  z-index: 100;\n}\n\n.comments-main form {\n  width: 100%;\n}\n\n.comments-main form div {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.comments-main form div h1 {\n  font-size: 21px;\n  font-weight: 600;\n}\n\n.comments-main form div textarea {\n  width: 250px;\n  height: 50px;\n  outline: none;\n  border: none;\n  box-shadow: 4px 4px 8px 0px rgba(0, 0, 0, 1);\n}\n.comments-main form div button {\n  width: 100px;\n  height: 55px;\n  background-color: #fff;\n  outline: none;\n}\n\n.comments-container h1 {\n  border-bottom: 1px solid #000;\n  font-size: 17px;\n  font-weight: 500;\n}\n\n.display-comment-container {\n  width: 95vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n}\n\n.display-comment-info {\ndisplay: flex;\njustify-content: flex-start;\nalign-items: center;\n}\n\n.display-comment-info a {\n  border-bottom: 1px solid #7D7C7C;\n}\n\n.display-comment-img-container {\n  width: 60px;\n  height: 60px;\n  margin-right: 20px !important;\n}\n\n.display-comment-img-container img {\n  border-radius: 50%;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n#display-comment-date {\n  margin-top: -30px;\n  font-size: 11px;\n  font-style: italic;\n}\n\n@media only screen and (max-width:600px) {\n  .comments-main {\n    width: 100%;\n    padding: 0;\n    text-align: center;\n  }\n\n  .comments-main form {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  \n  }\n\n  .comments-main form div {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 90vw;\n  }\n\n  .display-comment-container {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    width: 90vw;\n  }\n\n  .comments-main form div:first-child {\n    width: 90vw;\n  }\n\n  .comments-main form div:nth-child(2) {\n    display: flex;\n    flex-direction: column;\n  }\n\n  .comments-main form div textarea {\n    display: block;\n    width: 90vw;\n    height: 100px;\n   \n  }\n  .comments-main form div button {\n    display: block;\n    width: 90vw;\n    height: 50px;\n \n  }\n}",""]);const o=s},682:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),i=t(645),s=t.n(i)()(a());s.push([e.id,"footer {\n \n    background-color: #27374D;\n    height: 100px;\n    text-align: center;\n    color: #fff;\n    font-size: 21px;\n    \n \n}\n\nfooter div {\n  padding: 30px;\n}",""]);const o=s},281:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),i=t(645),s=t.n(i)()(a());s.push([e.id,"",""]);const o=s},545:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),i=t(645),s=t.n(i)()(a());s.push([e.id,"header {\n  background-color: #27374D;\n  height: 100px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center; \n  color: #fff;\n  position: fixed;\n  width: 100%;\n  top: 0;\n  \n} \n\n.home img {\n  height: 50px;\n  width: 50px;\n  border-radius: 50%;\n  cursor: pointer;\n}\n\n.header-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  height: 100%;\n  padding: 0 50px;\n}\n\nnav {\n  width: 70%;\n}\n\n nav ul {\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n\nnav ul li {\n   margin-left: 20px;\n\n}\n\n\n\nnav ul li:first-child {\n  margin-left: 0;\n}\n\n.list-view {\n  display: none;\n \n}\n\n\n.smaller-screen {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding-top: 20px;\n  padding-left: 20px;\n\n}\n\n.smaller-screen div li {\n  margin-bottom: 50px;\n}\n\n.smaller-screen .cancel {\n  margin-right: 30px;\n}\n\n.signout-button {\n  background: none;\n  border: none;\n  color: #fff;\n  font-size: inherit;\n  font-weight: inherit;\n  font-family: inherit;\n  cursor: pointer;\n}\n\n\n@media only screen and (max-width: 600px) {\n  .header-container {\n    \n    padding: 0 20px;\n    \n  }\n\n  .signout-button {\n    margin-left: 0;\n    padding-left: 0;\n  \n  }\n\n  nav ul {\n    display: none;\n  }\n\n  .list-view {\n    display: block;\n   \n  }\n  \n  nav {\n  \n    width: 8%;\n  \n  }\n}",""]);const o=s},432:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),i=t(645),s=t.n(i)()(a());s.push([e.id,".default-image {\n  height: 60px;\n  width: 60px;\n  border-radius: 50%;\n  color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 21px;\n  font-weight: 600;\n}\n.default-image-user {\n  height: 150px;\n  width: 150px;\n  border-radius: 50%;\n  color: #fff;\n  font-size: 21px;\n  font-weight: 600;\n \n}\n\n@media only screen and (max-width: 600px) {\n  .default-image-user {\n    height: 80px;\n    width: 80px;\n    margin-bottom: 10px;\n  \n  }\n}",""]);const o=s},924:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),i=t(645),s=t.n(i)()(a());s.push([e.id,".loading-indicator {\n  width: 50px;\n  height: 50px;\n  background-color: #0074d9;\n  border-radius: 50%;\n  animation: spin 4s linear infinite;\n  margin-top: 30px;\n}\n\n.loading-inner {\n  width: 10px;\n  height: 10px;\n  background-color: #fff;\n  border-radius: 50%;\n}\n\n@keyframes spin {\n  0% {\n    transform: translate(-50%, -50%) rotate(0deg);\n    background-color: #e95793; /* Blue at 0% */\n  }\n  25% {\n    transform: translate(-50%, -50%) rotate(90deg);\n    background-color: #da0c81; /* Red at 25% */\n  }\n  50% {\n    transform: translate(-50%, -50%) rotate(180deg);\n    background-color: #940b92; /* Green at 50% */\n  }\n  75% {\n    transform: translate(-50%, -50%) rotate(270deg);\n    background-color: #610c9f; /* Orange at 75% */\n  }\n  100% {\n    transform: translate(-50%, -50%) rotate(360deg);\n    background-color: #072541; /* Yellow at 100% */\n  }\n}\n",""]);const o=s},465:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),i=t(645),s=t.n(i)()(a());s.push([e.id,"section {\n  width: 100%;\n  margin: 20px;\n}\n\n.whisper-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  font-size: 18px;\n  width: 100%;\n}\n\n.whisper-container a {\n  margin-bottom: 20px;\n}\n\n.whisper-container-detail {\n  text-align: left;\n  font-size: 18px;\n  width: 100%;\n}\n\n.whisper-container-detail img {\n  width: 100%;\n  margin-bottom: 10px;\n  height: 200px;\n  object-fit: cover;\n}\n\n.whisper-container-detail h2,\n.whisper-container h1 {\n  margin-bottom: 10px;\n  font-size: 22px;\n}\n\n@media only screen and (max-width: 600px) {\n  .whisper-container img {\n    width: 95%;\n  }\n}\n",""]);const o=s},251:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),i=t(645),s=t.n(i)()(a());s.push([e.id,".about-page-container {\n  margin-top: 120px;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  margin-left: 40px;\n  margin-right: 40px;\n}\n\n.about-page-container h1 {\n  font-size: 21px;\n  font-weight: 600;\n  margin: 30px 0;\n}\n\n.about-page-container p {\n  font-size: 18px;\n  font-weight: 400;\n  margin-bottom: 20px;\n  line-height: 1.7;\n}\n\n.about-page-container span {\n  font-weight: 600;\n}\n\n@media only screen and (max-width: 600px) {\n  .about-page-container {\n    margin-left: 20px;\n    margin-right: 20px;\n  }\n}\n",""]);const o=s},99:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),i=t(645),s=t.n(i)()(a());s.push([e.id,"#whisper {\n  height: 150px;\n}\n\ndiv#add-whisper form {\n  height: 500px;\n}\n\n",""]);const o=s},595:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),i=t(645),s=t.n(i)()(a());s.push([e.id,".chats-container {\n  margin-top: 120px;\n  position: absolute;\n  top: 0;\n  right: 0;\n  overflow-y: scroll;\n}\n\n.chats {\n  min-height: 100vh;\n  width: 50vw;\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.chats ul {\n  width: 100%;\n}\n\n.chat-cancel {\n  cursor: pointer;\n}\n\n.chat-container {\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n}\n\n.single-chat {\n  width: 80%;\n  min-height: 120px;\n  border-radius: 20px;\n  padding: 5px;\n  font-size: 14px;\n}\n.mine {\n  background-color: #dde6ed;\n  color: #132043;\n}\n.other {\n  background-color: #27374d;\n  color: #fff;\n  align-self: flex-end;\n}\n\n.chat-header {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 10px 0;\n  border-bottom: 1px solid #fff;\n}\n\n.chat-header div span {\n  font-style: italic;\n}\n\n.chat-profile-container a {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n}\n\n.chat-profile-container span:first-child {\n  margin-right: 10px;\n}\n\n.chat-profile-container span img {\n  height: 40px;\n  width: 40px;\n  object-fit: cover;\n  border-radius: 50%;\n}\n\n.chat-input-container {\n  width: 80%;\n  display: flex;\n  justify-content: baseline;\n  align-items: center;\n  margin: 20px 0;\n}\n\n.chat-input-container input {\n  height: 50px;\n  width: 75%;\n  border: none;\n  box-shadow: 4px 4px 8px 0px rgba(0, 0, 0, 1);\n  outline: none;\n  padding-left: 20px;\n  font-size: 18px;\n}\n\n.chat-input-container button {\n  height: 50px;\n  width: 25%;\n  border: none;\n  background: none;\n  box-shadow: 4px 4px 8px 0px rgba(0, 0, 0, 1);\n  cursor: pointer;\n}\n\n@media only screen and (max-width: 600px) {\n  .chats-container {\n    margin-top: 50px;\n  }\n\n  .chat-cancel {\n    margin-bottom: 20px;\n  }\n\n  .chats {\n    width: 90vw;\n  }\n\n  .chat-container {\n    padding: 5px;\n    margin-bottom: 10px;\n  }\n\n  .single-chat {\n    width: 90%;\n  }\n\n  .chat-input-container {\n    width: 90%;\n    margin: 40px 0;\n  }\n\n  .chat-input-container input {\n    height: 80px;\n  }\n\n  .chat-input-container button {\n    height: 80px;\n  }\n}\n",""]);const o=s},352:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),i=t(645),s=t.n(i)()(a());s.push([e.id,".home-page {\n  background: linear-gradient(rgba(0, 0, 0, 0.60), rgba(0, 0, 0, 0.60)), url('https://media.istockphoto.com/id/1326388811/photo/two-cheerful-young-girls-dressed-in-summer-clothes.webp?b=1&s=170667a&w=0&k=20&c=WgIewibsc4qNwJFmvr4InHGxsAbqjrqfOIiSjkWyszA=');\n  background-repeat: no-repeat;\n  background-size: cover;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 100px;\n}\n\n.home-page div {\n  width: 500px;\n  text-align: center;\n  color: #fff;\n  font-size: 21px;\n  line-height: 1.4;\n}\n\n.home-page div h1 {\n  font-size: 27px;\n  font-weight: 600;\n  margin-bottom: 20px;\n}\n\n.home-page div a {\n  border: 1px solid #fff;\n  background-color: #27374D;\n  height: 40px;\n  width: 150px;\n  margin-top: 20px;\n  display: inline-block;\n  padding-top: 12px;\n}\n\n\n@media only screen and (max-width: 600px) {\n  .home-page {\n    \n    background-size: cover;\n    height: 100vh;\n    background-position: 50%;\n    padding: 0 10px;\n   \n   \n  }\n  .home-page div {\n    width: 100%;\n\n\n    \n  }\n}",""]);const o=s},726:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),i=t(645),s=t.n(i)()(a());s.push([e.id,".notfound-page-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  margin-top: 80px;\n}\n\n.notfound-page-container p {\n  font-size: 21px;\n  font-weight: 500;\n  margin: 20px 0;\n  line-height: 1.8;\n  font-style: italic;\n}\n\n.notfound-page-container a {\n  background-color: #fff;\n  width: 200px;\n  height: 50px;\n  border: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n@media only screen and (max-width: 600px) {\n  .notfound-page-container {\n    margin-top: 50px;\n  }\n  .notfound-page-image-container {\n    width: 90%;\n    text-align: center;\n  }\n\n  .notfound-page-image-container img {\n    width: 100%;\n    object-fit: cover;\n  }\n\n  .notfound-page-container p {\n    margin: 40px 20px;\n    font-size: 15px;\n    font-weight: 500;\n  } /*\n  .notfound-page-container a {\n    background-color: #fff;\n    width: 200px;\n    height: 50px;\n    border: none;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  } */\n}\n",""]);const o=s},451:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),i=t(645),s=t.n(i)()(a());s.push([e.id,".single-whisper {\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n  line-height: 1.5;\n  margin-top: 120px;\n  padding: 0 50px;\n}\n \n.single-whisper img {\n  width: 100%;\n  object-fit: cover;\n  height: 600px;\n} \n\n.single-whisper h2 {\n  margin: 10px 0;\n  font-size: 21px;\n  font-weight: 500;\n  text-align: left;\n}\n\n.whisper-whisperer-link {\n  display: inline-block;\n  margin: 15px 0 30px 0;\n  border-bottom: 3px solid #fff;\n}\n\n.single-whisper div {\n  margin: 10px 0;\n  margin-bottom: 20px;\n}\n\n.single-whisper div span {\n  font-size: 18px;\n  font-style: italic;\n  font-weight: 400;\n}\n\n.single-whisper div span:first-child {\n  margin-right: 10px;\n  border-bottom: 1px solid #000;\n}\n\n.single-whisper p {\n  margin-bottom: 40px;\n}\n\n.reaction-icons {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n}\n\n.reaction-icons div {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  cursor: pointer;\n}\n\n.reaction-icons div span {\n  margin-left: 5px;\n}\n\n.reaction-icons div:first-child {\n margin-right: 40px;\n}\n\n.reaction-icons div button {\n  background: none;\n  border: none;\n  outline: none;\n  cursor: pointer;\n}\n\n.whisperer-edit-delete {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n}\n\n.whisperer-edit-delete button {\n  background: none;\n  border: none;\n  outline: none;\n  font-family: inherit;\n  margin-left: 20px;\n  background-color: #000;\n  color: #fff;\n  display: inline-block;\n}\n.whisperer-edit-delete a {\n  background-color: #fff;\n  color: #000;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n}\n\n.whisperer-edit-delete a, .whisperer-edit-delete button {\n  width: 150px;\n  height: 50px;\n  font-weight: 500;\n  font-size: 18px;\n  cursor: pointer;\n}\n\n\n@media only screen and (max-width: 600px) {\n\n  .single-whisper {\n \n    padding: 0 20px;\n    line-height: 1.7;\n    font-size: 18px;\n  }\n\n  .single-whisper h2 {\n    font-size: 18px;\n    font-weight: 600;\n  \n  }\n  .single-whisper img {\n  \n    height: 400px;\n  } \n}",""]);const o=s},145:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),i=t(645),s=t.n(i)()(a());s.push([e.id,".profile {\n  display: flex;\n  flex-direction: column;\n  margin-top: 120px;\n  position: relative;\n}\n\n.profile .profile-header {\n  height: 420px;\n  background-color: #27374d;\n  color: #fff;\n  width: 100%;\n}\n\n.profile .profile-header > div {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 40px;\n  border-bottom: 1px solid #fff;\n  padding-bottom: 10px;\n}\n\n.profile > h3 {\n  font-size: 27px;\n  font-weight: 600;\n  align-self: flex-start;\n  margin: 30px 0;\n  margin-left: 30px;\n  color: #7d7c7c;\n}\n\n.profile-info {\n  display: flex;\n  align-items: center;\n}\n.profile-info div {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: flex-start;\n  margin-left: 40px;\n}\n\n.edit-profile,\n.follow-button {\n  height: 50px;\n  width: 150px;\n  border: 1px solid #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.follow-button {\n  font-size: 18px;\n  font-weight: 500;\n  cursor: pointer;\n  margin-bottom: 10px;\n}\n\n.envelope {\n  cursor: pointer;\n}\n\n.profile-info div span:first-child {\n  margin-bottom: 20px;\n}\n\n.profile .profile-header img {\n  width: 200px;\n  height: 200px;\n  border-radius: 50%;\n  object-fit: cover;\n}\n/**************************************************************************************/\n\n.user-whispers {\n  display: grid;\n  grid-template-columns: repeat(3, 33%);\n  grid-template-rows: repeat(3, 2fr);\n  column-gap: 20px;\n  row-gap: 20px;\n  justify-content: center;\n  background-color: #d2e0fb;\n  margin: 30px;\n  padding: 30px;\n}\n\n@media only screen and (max-width: 950px) {\n  .profile-info div {\n    margin-left: 10px;\n  }\n  .user-whispers {\n    grid-template-columns: repeat(2, 48%);\n    grid-template-rows: repeat(2, 4fr);\n  }\n}\n\n@media only screen and (max-width: 700px) {\n  .profile .profile-header > div {\n    font-size: 12px;\n\n    margin: 10px;\n    margin-bottom: 60px;\n  }\n\n  .profile-info {\n    flex-direction: column;\n  }\n\n  .profile-info div span:first-child {\n    margin-bottom: 10px;\n  }\n  .profile .profile-header img {\n    width: 80px;\n    height: 80px;\n    border-radius: 50%;\n    margin-bottom: 10px;\n  }\n\n  .profile-info div {\n    margin-left: 0;\n  }\n  .user-whispers {\n    grid-template-columns: repeat(2, 45%);\n    grid-template-rows: repeat(2, 4fr);\n    margin: 10px;\n    padding: 10px;\n  }\n}\n\n@media only screen and (max-width: 400px) {\n  .user-whispers {\n    grid-template-columns: 95%;\n    grid-template-rows: 4fr;\n  }\n\n  .profile > h3 {\n    margin-left: 5px;\n  }\n}\n",""]);const o=s},470:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),i=t(645),s=t.n(i)()(a());s.push([e.id,"main {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  min-height: 100vh;\n  margin: 0;\n  margin-top: 120px;\n}\n\n.whisper-page {\n  display: grid;\n  grid-template-columns: repeat(3, 33%);\n  grid-template-rows: repeat(3, 2fr);\n  column-gap: 20px;\n  row-gap: 20px;\n  justify-content: center;\n  background-color: #d2e0fb;\n  margin: 30px;\n  margin-top: 50px;\n  padding: 30px;\n  margin-bottom: 30px;\n}\n\n.search_input {\n  width: 60%;\n  height: 40px;\n  outline: none;\n  border: none;\n  border-radius: 20px;\n  padding-left: 20px;\n  font-size: 18px;\n  font-family: inherit;\n  color: #7d7c7c;\n}\n\n.search_input::placeholder {\n  font-size: 18px;\n  font-family: inherit;\n}\n\n.search_input:focus {\n  outline: none;\n}\n\n@media only screen and (max-width: 950px) {\n  .whisper-page {\n    grid-template-columns: repeat(2, 48%);\n    grid-template-rows: repeat(2, 4fr);\n  }\n}\n\n@media only screen and (max-width: 600px) {\n  .whisper-page {\n    grid-template-columns: repeat(2, 45%);\n    grid-template-rows: repeat(2, 4fr);\n    margin: 10px;\n    padding: 10px;\n    margin-top: 80px;\n  }\n}\n\n@media only screen and (max-width: 400px) {\n  .whisper-page {\n    grid-template-columns: 95%;\n    grid-template-rows: 4fr;\n  }\n}\n",""]);const o=s},468:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(81),a=t.n(r),i=t(645),s=t.n(i)()(a());s.push([e.id,".auth {\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  color: #fff;\n  margin-top: 100px;\n}\n\n.auth form {\n  width: 400px;\n  margin-top: 50px;\n  background-color: #27374D;\n  border-radius: 5px;\n  height: 400px;\n  padding: 10px;\n}\n\n#signup {\n  height: 850px;\n}\n\n#signup form{\n  height: 750px;\n}\n\n.auth form div {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  margin-bottom: 20px;\n}\n\n.auth form h1 {\n  font-size: 21px;\n  font-weight: 700;\n  margin-bottom: 25px;\n}\n\n.auth form div label {\n  font-size: 18px;\n  font-weight: 500;\n  margin-bottom: 8px;\n}\n\n.auth form div input {\n  height: 25px;\n  border: none;\n  border-radius: 3px;\n  outline: none;\n  padding-top: 15px;\n  font-size: 18px;\n  font-weight: lighter;\n  color: #1f1f1b;\n  line-height: 1.6;\n}\n\n.auth form div input::placeholder {\n  font-size: 11px;\n}\n\n.auth form div button {\n\n  height: 40px;\n  border: none;\n  border-radius: 3px;\n  outline: none;\n  background-color: #fff;\n  color: #27374D;\n  font-size: 18px;\n  cursor: pointer;\n  font-weight: 500;\n  margin-top: 20px;\n}\n\n\n@media only screen and (max-width:600px) {\n   \n  .auth form {\n    width: 80%;\n    padding: 20px;\n  \n  }\n}",""]);const o=s},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(s[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&s[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),n.push(l))}},n}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var i={},s=[],o=0;o<e.length;o++){var c=e[o],u=r.base?c[0]+r.base:c[0],l=i[u]||0,p="".concat(u," ").concat(l);i[u]=l+1;var d=t(p),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)n[d].references++,n[d].updater(m);else{var f=a(m,r);r.byIndex=o,n.splice(o,0,{identifier:p,updater:f,references:1})}s.push(p)}return s}function a(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,a){var i=r(e=e||[],a=a||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var o=t(i[s]);n[o].references--}for(var c=r(e,a),u=0;u<i.length;u++){var l=t(i[u]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}i=c}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var i=n[r]={id:r,exports:{}};return e[r](i,i.exports,t),i.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0,(()=>{const e=require("@babel/runtime/helpers/asyncToGenerator");var n=t.n(e);const r=require("@babel/runtime/regenerator");var a=t.n(r);const i=require("dotenv"),s=require("express");var o=t.n(s);const c=require("debug");var u=t.n(c);require("ejs");const l=require("morgan");var p=t.n(l);const d=require("react");var m=t.n(d);const f=require("cors");var h=t.n(f);const g=require("express-session");var v=t.n(g);const w=require("connect-mongodb-session");var x=t.n(w);const y=require("mongoose"),b=require("react-router-config"),E=require("http");var k=t.n(E);const j=require("socket.io"),S=require("express-rate-limit"),I=require("react-router-dom"),O=require("react-dom/server"),_=require("react-redux"),C=require("@babel/runtime/helpers/defineProperty");var A=t.n(C);const D=require("react-toastify"),P=require("@babel/runtime/helpers/slicedToArray");var N=t.n(P),T=t(379),Z=t.n(T),L=t(795),q=t.n(L),B=t(569),z=t.n(B),W=t(565),M=t.n(W),U=t(216),R=t.n(U),F=t(589),H=t.n(F),Y=t(545),J={};J.styleTagTransform=H(),J.setAttributes=M(),J.insert=z().bind(null,"head"),J.domAPI=q(),J.insertStyleElement=R(),Z()(Y.Z,J),Y.Z&&Y.Z.locals&&Y.Z.locals;var G=t(881),V={};V.styleTagTransform=H(),V.setAttributes=M(),V.insert=z().bind(null,"head"),V.domAPI=q(),V.insertStyleElement=R(),Z()(G.Z,V),G.Z&&G.Z.locals&&G.Z.locals;const $=function(){return m().createElement(I.Link,{className:"add-to-whisper",to:"/addwhisper"},m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1.5em",height:"1.5em",fill:"#fff"},m().createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),m().createElement("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})))},K=require("@reduxjs/toolkit"),X=require("axios");var Q=t.n(X),ee=(0,K.createAsyncThunk)("auth/signup",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().post("http://localhost:3000/api/auth/signup",n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),ne=(0,K.createAsyncThunk)("auth/signin",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().post("http://localhost:3000/api/auth/signin",n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),te=(0,K.createAsyncThunk)("auth/signout",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().get("http://localhost:3000/api/auth/signout",n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),re=(0,K.createAsyncThunk)("auth/update",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().patch("http://localhost:3000/api/users/".concat(n.userId),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),ae=(0,K.createSlice)({name:"auth",initialState:{user:null,info:null},reducers:{updateAuthOnPageLoad:function(e,n){e.user=JSON.parse(n.payload)}},extraReducers:function(e){e.addCase(ee.fulfilled,(function(e,n){localStorage.setItem("auth",JSON.stringify(n.payload.user)),e.user=n.payload.user,e.info=n.payload.info})),e.addCase(ne.fulfilled,(function(e,n){localStorage.setItem("auth",JSON.stringify(n.payload.user)),e.user=n.payload.user,e.info=n.payload.info})),e.addCase(re.fulfilled,(function(e,n){localStorage.setItem("auth",JSON.stringify(n.payload.user)),e.user=n.payload.user,e.info=n.payload.info})),e.addCase(te.fulfilled,(function(e,n){localStorage.setItem("auth",n.payload.user),e.user=n.payload.user,e.info=n.payload.message}))}}),ie=ae.actions,se=ae.reducer,oe=ie.updateAuthOnPageLoad;const ce=se,ue=function(){var e=(0,d.useState)(!1),n=N()(e,2),t=n[0],r=n[1],a={backgroundColor:"#27374D",height:t?"100vh":"100px",color:"fff",zIndex:t?100:0},i=(0,_.useSelector)((function(e){return e.auth})),s=(0,_.useDispatch)();function o(){s(te())}var c=t?m().createElement("ul",{className:"smaller-screen"},m().createElement("div",{onClick:function(){return r(!t)}},m().createElement("li",null,m().createElement(I.NavLink,{exact:!0,to:"/",activeStyle:{borderBottom:"1px solid #DDE6ED"}},"Home")),m().createElement("li",null,m().createElement(I.NavLink,{to:"/whispers",activeStyle:{borderBottom:"1px solid #DDE6ED"}},"Whispers")),i.user&&m().createElement("li",null,m().createElement(I.NavLink,{to:"/whisperer",activeStyle:{borderBottom:"1px solid #DDE6ED"}},"Profile")),i.user?m().createElement("li",null,m().createElement("button",{className:"signout-button",onClick:o},"Sign Out")):m().createElement("li",null,m().createElement(I.NavLink,{to:"/signin",activeStyle:{borderBottom:"1px solid #DDE6ED"}},"Signin")),m().createElement("li",null,m().createElement(I.NavLink,{to:"/about",activeStyle:{borderBottom:"1px solid #DDE6ED"}},"About")),i.user&&m().createElement($,null)),m().createElement("svg",{onClick:function(){return r(!t)},className:"cancel",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"3em",height:"3em",fill:"#fff"},m().createElement("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}))):m().createElement("nav",null,m().createElement("ul",null,m().createElement("li",null,m().createElement(I.NavLink,{exact:!0,to:"/",activeStyle:{borderBottom:"1px solid #DDE6ED"}},"Home")),m().createElement("li",null,m().createElement(I.NavLink,{to:"/whispers",activeStyle:{borderBottom:"1px solid #DDE6ED"}},"Whispers")),i.user&&m().createElement("li",null,m().createElement(I.NavLink,{to:"/whisperer",activeStyle:{borderBottom:"1px solid #DDE6ED"}},"Profile")),i.user?m().createElement("li",null,m().createElement("button",{className:"signout-button",onClick:o},"Sign Out")):m().createElement("li",null,m().createElement(I.NavLink,{to:"/signin",activeStyle:{borderBottom:"1px solid #DDE6ED"}},"Signin")),m().createElement("li",{className:"about"},m().createElement(I.NavLink,{to:"/about",activeStyle:{borderBottom:"1px solid #DDE6ED"}},"About")),i.user&&m().createElement($,null)),m().createElement("svg",{className:"list-view",xmlns:"http://www.w3.org/2000/svg",onClick:function(){return r(!t)},viewBox:"0 0 16 16",width:"2em",height:"2em",fill:"#fff"},m().createElement("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})));return m().createElement("header",{style:a},m().createElement("div",{className:"header-container",style:{position:t?"relative":"static"}},m().createElement("div",{className:"home",style:{display:t?"none":"block"}},m().createElement(I.Link,{to:"/"},m().createElement("img",{src:"/images/whisper.jpg",alt:"Whisper Icon"}))),c))};var le=t(682),pe={};pe.styleTagTransform=H(),pe.setAttributes=M(),pe.insert=z().bind(null,"head"),pe.domAPI=q(),pe.insertStyleElement=R(),Z()(le.Z,pe),le.Z&&le.Z.locals&&le.Z.locals;const de=function(){return m().createElement("footer",null,m().createElement("div",null,"© 2023 Whisper Social. All Rights Reserved."))};var me=t(352),fe={};fe.styleTagTransform=H(),fe.setAttributes=M(),fe.insert=z().bind(null,"head"),fe.domAPI=q(),fe.insertStyleElement=R(),Z()(me.Z,fe),me.Z&&me.Z.locals&&me.Z.locals;const he={component:function(){var e=(0,_.useSelector)((function(e){return e.auth}));return m().createElement("div",{className:"home-page"},m().createElement("div",null,m().createElement("h1",null,"Welcome To Whisper Social"),m().createElement("p",null,"Embrace your inner hero on our platform, where your whispers resonate far and wide, sparking conversations that change the world one whisper at a time."),e.user?m().createElement(I.Link,{to:"/whispers"},"Get  Started"):m().createElement(I.Link,{to:"/signin"},"Get  Started")))}},ge=require("lodash"),ve=function(e){var n=e.type,t=e.text,r=e.onChange,a=e.value,i=e.placeholder;return m().createElement("div",null,m().createElement("label",{htmlFor:t},(0,ge.capitalize)(t)),m().createElement("input",{type:n,id:t,name:t,value:a,onChange:r,placeholder:i||""}))};var we=t(281),xe={};xe.styleTagTransform=H(),xe.setAttributes=M(),xe.insert=z().bind(null,"head"),xe.domAPI=q(),xe.insertStyleElement=R(),Z()(we.Z,xe),we.Z&&we.Z.locals&&we.Z.locals;const ye=function(e){return m().createElement("form",{onSubmit:e.onSubmit},e.children)},be=function(e){var n=e.type,t=e.text,r=e.disable;return m().createElement("div",null,m().createElement("button",{disabled:r,type:n},(0,ge.capitalize)(t)))},Ee=function(e){var n=e.spanText,t=e.buttonText,r=e.href;return m().createElement("div",{className:"auth-button"},m().createElement("span",null,n),m().createElement(I.Link,{to:r},t))};var ke=t(468),je={};function Se(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ie(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Se(Object(t),!0).forEach((function(n){A()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Se(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}je.styleTagTransform=H(),je.setAttributes=M(),je.insert=z().bind(null,"head"),je.domAPI=q(),je.insertStyleElement=R(),Z()(ke.Z,je),ke.Z&&ke.Z.locals&&ke.Z.locals;const Oe={component:function(){var e=(0,_.useSelector)((function(e){return e.auth})),n=(0,d.useState)({username:e.user?e.user.username.slice(1):"",firstname:e.user?e.user.firstname:"",lastname:e.user?e.user.lastname:"",location:e.user?e.user.location:"",image_url:e.user?e.user.image_url:"",email:e.user?e.user.email:"",password:e.user?e.user.password:"",userId:e.user?e.user._id:""}),t=N()(n,2),r=t[0],a=t[1],i=function(e){var n=e.target,t=n.name,r=n.value;a((function(e){return Ie(Ie({},e),{},A()({},t,r))}))},s=(0,_.useDispatch)(),o=(0,I.useHistory)();return m().createElement("div",{className:"auth",id:"signup"},m().createElement(ye,{onSubmit:e.user?function(e){e.preventDefault();try{s(re(r)),o.push("/whisperer"),a({username:"",firstname:"",lastname:"",image_url:"",location:"",email:"",password:""})}catch(e){console.log(e)}}:function(e){e.preventDefault();try{s(ee(r)),o.push("/whispers"),a({username:"",firstname:"",lastname:"",image_url:"",location:"",email:"",password:""})}catch(e){console.log(e)}}},m().createElement("h1",null,e.user?"Edit Profile":"Sign Up"),m().createElement(ve,{type:"text",text:"username",value:r.username,onChange:i}),m().createElement(ve,{type:"text",text:"firstname",value:r.firstname,onChange:i}),m().createElement(ve,{type:"text",text:"lastname",value:r.lastname,onChange:i}),m().createElement(ve,{type:"text",text:"image_url",value:r.image_url,onChange:i}),m().createElement(ve,{type:"text",text:"location",value:r.location,onChange:i}),m().createElement(ve,{type:"text",text:"email",value:r.email,onChange:i}),m().createElement(ve,{type:"password",text:"password",value:r.password,placeholder:e.user?"Leave Empty If You Do Not Wish To Change Your Password":"",onChange:i}),m().createElement(be,{type:"submit",text:"next"}),m().createElement(Ee,{spanText:"Already Have An Account?",buttonText:"Sign in",href:"/signin"})))}};function _e(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ce(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_e(Object(t),!0).forEach((function(n){A()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_e(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Ae={component:function(){var e=(0,d.useState)({email:"",password:""}),n=N()(e,2),t=n[0],r=n[1],a=(0,I.useHistory)(),i=(0,_.useDispatch)(),s=function(e){var n=e.target,t=n.name,a=n.value;r((function(e){return Ce(Ce({},e),{},A()({},t,a))}))};return m().createElement("div",{className:"auth"},m().createElement(ye,{onSubmit:function(e){e.preventDefault();try{i(ne(t)),a.push("/whispers"),r({email:"",password:""})}catch(e){console.log(e)}}},m().createElement("h1",null,"Sign In"),m().createElement(ve,{type:"text",text:"email",value:t.email,onChange:s}),m().createElement(ve,{type:"password",text:"password",value:t.password,onChange:s}),m().createElement(be,{type:"submit",text:"next"}),m().createElement(Ee,{spanText:"Don't Have An Account?",buttonText:"Sign up",href:"/signup"})))}},De=require("@babel/runtime/helpers/extends");var Pe=t.n(De);const Ne=require("react-infinite-scroll-component");var Te=t.n(Ne),Ze=t(465),Le={};Le.styleTagTransform=H(),Le.setAttributes=M(),Le.insert=z().bind(null,"head"),Le.domAPI=q(),Le.insertStyleElement=R(),Z()(Ze.Z,Le),Ze.Z&&Ze.Z.locals&&Ze.Z.locals;const qe=function(e){var n=e.image_url,t=e.title,r=e.whisper,a=e._id,i=e.whispererUsername,s=e.whispererId,o=e.userId;return m().createElement("section",null,m().createElement("div",{className:"whisper-container"},m().createElement(I.Link,{to:o?"/whisperer":"/users/".concat(s)},m().createElement("h1",null,i)),m().createElement(I.Link,{to:"/whispers/".concat(a),className:"whisper-container-detail"},m().createElement("img",{src:n,alt:"whisper"}),m().createElement("h2",null,t),m().createElement("p",null,r.substring(0,150),"..."))))},Be=require("@babel/runtime/helpers/toConsumableArray");var ze=t.n(Be);function We(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Me(e){return new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function Ue(e){var n=function(e,n,t){var r,a,i,s=Math.floor(6*e),o=6*e-s,c=1*(1-1*o),u=1*(1-1*(1-o));switch(s%6){case 0:r=1,a=u,i=0;break;case 1:r=c,a=1,i=0;break;case 2:r=0,a=1,i=u;break;case 3:r=0,a=c,i=1;break;case 4:r=u,a=0,i=1;break;case 5:r=1,a=0,i=c}return[r,a,i]}((e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0))/26),t=N()(n,3),r=t[0],a=t[1],i=t[2],s=[Math.round(255*r),Math.round(255*a),Math.round(255*i)];return"rgb(".concat(s.join(", "),")")}var Re=(0,K.createAsyncThunk)("whispers/get_all_whispers",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().get("http://localhost:3000/api/whispers/?page=".concat(n.page,"&limit=").concat(n.limit));case 2:return r=e.sent,i=r.data,console.log("Redux Request: ",i.whispers.length),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Fe=(0,K.createAsyncThunk)("whispers/get_all_whisperer_whispers",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().get("http://localhost:3000/api/whispers/?whispererId=".concat(n.userId,"&page=").concat(n.page,"&limit=").concat(n.limit));case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),He=(0,K.createAsyncThunk)("whispers/get_a_whisper",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().get("http://localhost:3000/api/whispers/".concat(n));case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Ye=(0,K.createAsyncThunk)("whispers/post_a_whisper",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().post("http://localhost:3000/api/whispers",n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Je=(0,K.createAsyncThunk)("whispers/update_a_whisper",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().patch("http://localhost:3000/api/whispers/".concat(n.whisperId),n.updateData);case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Ge=(0,K.createAsyncThunk)("whispers/delete_a_whisper",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().delete("http://localhost:3000/api/whispers/".concat(n));case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Ve=(0,K.createAsyncThunk)("whispers/get_likes",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().get("http://localhost:3000/api/likes/?whisperId=".concat(n));case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),$e=(0,K.createAsyncThunk)("whispers/post_like",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().post("http://localhost:3000/api/likes/",n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Ke=(0,K.createAsyncThunk)("whispers/delete_like",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().delete("http://localhost:3000/api/likes/".concat(n));case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Xe=(0,K.createAsyncThunk)("whispers/get_comments",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().get("http://localhost:3000/api/comments/?whisperId=".concat(n));case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Qe=(0,K.createAsyncThunk)("whispers/post_comment",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().post("http://localhost:3000/api/comments",n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),en=(0,K.createSlice)({name:"whispers",initialState:{whispererWhispers:[],whispers:[],paginationOptions:{},whisper:{},likes:[],comments:[],liked:!1,like:{}},reducers:{},extraReducers:function(e){e.addCase(Re.fulfilled,(function(e,n){e.whispers=function(e,n){var t,r=[],a=new Set,i=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return We(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?We(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==t.return||t.return()}finally{if(o)throw i}}}}([].concat(ze()(e),ze()(n)));try{for(i.s();!(t=i.n()).done;){var s=t.value,o=JSON.stringify(s);a.has(o)||(r.push(s),a.add(o))}}catch(e){i.e(e)}finally{i.f()}return r}(e.whispers,n.payload.whispers),e.paginationOptions=n.payload.paginationOptions})),e.addCase(Fe.fulfilled,(function(e,n){e.whispererWhispers=n.payload.whispers,e.paginationOptions=n.payload.paginationOptions})),e.addCase(He.fulfilled,(function(e,n){e.whisper=n.payload})),e.addCase(Ye.fulfilled,(function(e,n){e.whispers=e.whispers.concat(n.payload)})),e.addCase(Je.fulfilled,(function(e,n){e.whispers=e.whispers.map((function(e){return e._id===n.payload._id?n.payload:e}))})),e.addCase(Ge.fulfilled,(function(e,n){e.whispers=e.whispers.filter((function(e){return e._id!==n.payload._id}))})),e.addCase(Ve.fulfilled,(function(e,n){e.likes=n.payload})),e.addCase(Xe.fulfilled,(function(e,n){e.comments=n.payload})),e.addCase($e.fulfilled,(function(e,n){e.likes=e.likes.concat(n.payload),e.liked=!0})),e.addCase(Ke.fulfilled,(function(e,n){e.likes=e.likes.filter((function(e){return e._id!==n.payload._id})),e.liked=!1})),e.addCase(Qe.fulfilled,(function(e,n){e.comments=e.comments.concat(n.payload)}))}});en.actions;const nn=en.reducer;var tn=t(924),rn={};rn.styleTagTransform=H(),rn.setAttributes=M(),rn.insert=z().bind(null,"head"),rn.domAPI=q(),rn.insertStyleElement=R(),Z()(tn.Z,rn),tn.Z&&tn.Z.locals&&tn.Z.locals;const an=function(){return m().createElement("div",{className:"loading-indicator"},m().createElement("div",{className:"loading-inner"}))};var sn=t(470),on={};on.styleTagTransform=H(),on.setAttributes=M(),on.insert=z().bind(null,"head"),on.domAPI=q(),on.insertStyleElement=R(),Z()(sn.Z,on),sn.Z&&sn.Z.locals&&sn.Z.locals;const cn={component:function(){var e=(0,_.useDispatch)(),n=(0,_.useSelector)((function(e){return e.whispers})),t=n.whispers,r=n.paginationOptions,a=(0,d.useState)(""),i=N()(a,2),s=i[0],o=i[1];(0,d.useEffect)((function(){0===t.length&&e(Re({page:1,limit:10}))}),[]),t=t.filter((function(e){return e.title.toLowerCase().includes(s.toLowerCase())||e.whispererUsername.toLowerCase().includes(s.toLowerCase())}));var c=r.limit,u=r.hasNextPage,l=r.nextPage;return m().createElement("main",null,0===t.length?m().createElement(an,null):m().createElement(m().Fragment,null,m().createElement("input",{className:"search_input",name:"search",placeholder:"Search Whispers Or Whisperers",value:s,onChange:function(e){var n=e.target,t=n.value;n.name,o(t)}}),m().createElement(Te(),{dataLength:t.length,next:function(){e(Re({page:l,limit:c}))},hasMore:u,loader:m().createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},m().createElement(an,null)),endMessage:m().createElement("p",{style:{textAlign:"center",fontSize:"18px",margin:"20px 0"}},m().createElement("b",null,"Yay! You have seen it all"))},m().createElement("div",{className:"whisper-page"},t.map((function(e,n){return m().createElement(qe,Pe()({key:e._id},e))}))))))},loadData:function(e){return e.dispatch(Re({page:1,limit:10}))}},un=require("@babel/runtime/helpers/objectDestructuringEmpty");var ln=t.n(un);const pn=function(e){var n=e.title,t=e.name,r=e.value,a=e.onChange,i=e.placeholder;return m().createElement("div",null,m().createElement("label",{htmlFor:t},n||""),m().createElement("textarea",{name:t,id:t,value:r,onChange:a,placeholder:i||""}))};var dn=t(432),mn={};function fn(e){var n=e.letter,t=void 0===n?"h":n,r=Ue(t);return m().createElement("div",{className:"default-image-user",style:{backgroundColor:r,display:"flex",justifyContent:"center",alignItems:"center"}},t)}mn.styleTagTransform=H(),mn.setAttributes=M(),mn.insert=z().bind(null,"head"),mn.domAPI=q(),mn.insertStyleElement=R(),Z()(dn.Z,mn),dn.Z&&dn.Z.locals&&dn.Z.locals;const hn=function(e){var n=e.letter,t=void 0===n?"N":n,r=Ue(t);return m().createElement("div",{style:{backgroundColor:r},className:"default-image"},t)},gn=function(e){var n=e.image_url,t=e.username,r=e.comment,a=(e.commentStatus,e.createdAt);return e.commentById,m().createElement("div",{className:"display-comment-container"},m().createElement("div",{className:"display-comment-info"},m().createElement("div",{className:"display-comment-img-container"},n?m().createElement("img",{src:n}):m().createElement(hn,{letter:t.slice(1,2)})),m().createElement(I.Link,{to:""},t)),m().createElement("span",{id:"display-comment-date"},Me(a)),m().createElement("div",{className:"display-comment-comment"},r))};var vn=t(126),wn={};wn.styleTagTransform=H(),wn.setAttributes=M(),wn.insert=z().bind(null,"head"),wn.domAPI=q(),wn.insertStyleElement=R(),Z()(vn.Z,wn),vn.Z&&vn.Z.locals&&vn.Z.locals;const xn=function(e){var n=e.comments,t=e.comment,r=e.onSubmit,a=e.onChange,i=e.display,s=e.setDisplay;return m().createElement("div",{className:"comments-main",style:{display:i?"block":"none"}},m().createElement(ye,{onSubmit:r},m().createElement("div",null,m().createElement("h1",null,"Leave A Comment"),m().createElement("svg",{onClick:function(){return s(!i)},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"3em",height:"3em",fill:"#000"},m().createElement("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}))),m().createElement("div",{className:"comment-inputs"},m().createElement(pn,{name:"comment",display:i,value:t,onChange:a,placeholder:"What Are Your Thoughts?"}),m().createElement(be,{type:"submit",text:"post"}))),m().createElement("div",{className:"comments-container"},0===n.length?m().createElement("h1",null,"Be The First To Leave A Comment"):n.map((function(e){return m().createElement(gn,Pe()({key:e._id},e))}))))};var yn=t(451),bn={};bn.styleTagTransform=H(),bn.setAttributes=M(),bn.insert=z().bind(null,"head"),bn.domAPI=q(),bn.insertStyleElement=R(),Z()(yn.Z,bn),yn.Z&&yn.Z.locals&&yn.Z.locals;const En={component:function(e){ln()(e);var n=(0,I.useParams)(),t=(0,_.useDispatch)(),r=(0,_.useSelector)((function(e){return e.whispers})),a=(0,_.useSelector)((function(e){return e.auth})),i=(0,I.useHistory)(),s=(0,d.useState)(!1),o=N()(s,2),c=o[0],u=o[1],l=(0,d.useState)(!1),p=N()(l,2),f=p[0],h=p[1],g=(0,d.useState)(""),v=N()(g,2),w=v[0],x=v[1],y=r.whisper,b=r.comments,E=r.likes,k=n.whisperId,j=!1;return a.user&&y&&y.whispererId===a.user._id&&(j=!0),(0,d.useEffect)((function(){t(He(k)),t(Ve(k)),t(Xe(k))}),[c]),0===Object.keys(y).length?m().createElement("h1",null,"Loading"):m().createElement("main",{className:"single-whisper"},m().createElement(xn,{comments:b,display:f,setDisplay:h,comment:w,onSubmit:function(e){e.preventDefault(),t(Qe({commentById:a.user._id,whisperId:k,comment:w})),x(""),i.push("/whispers/".concat(k))},onChange:function(e){x(e.target.value)}}),m().createElement("div",null,m().createElement("img",{src:y.image_url}),m().createElement("h2",null,y.title),m().createElement("div",null,m().createElement("span",null,"".concat(y.firstname," ").concat(y.lastname)),m().createElement("span",null,y.createdAt?Me(y.createdAt):"October 2023")),m().createElement(I.Link,{className:"whisper-whisperer-link",to:j?"/whisperer":"/users/".concat(y.whispererId)},y.username),m().createElement("p",null,y.whisper),m().createElement("div",{className:"reaction-icons"},m().createElement("div",{onClick:function(){a.user?h(!f):i.push("/signin")}},m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"2em",height:"2em",fill:"currentColor"},m().createElement("path",{d:"M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"})),m().createElement("span",null,b.length)),m().createElement("div",null,m().createElement("button",{disabled:!a.user,onClick:function(){c?(u(!1),t(Ke(y.likeStatus._id))):(u(!0),t($e({whisperId:k,likedById:a.user._id})))}},m().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"2em",height:"2em",fill:c?"#C70039":"#fff"},m().createElement("path",{fillRule:"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"}))),m().createElement("span",null,E.length))),j?m().createElement("div",{className:"whisperer-edit-delete"},m().createElement(I.Link,{to:"/addwhisper/".concat(k)},"Edit Whisper"),m().createElement("button",{onClick:function(){return t(Ge(k))}},"Delete")):null))},loadData:function(e,n){e.dispatch(He(n)),e.dispatch(Ve(n)),e.dispatch(Xe(n))}},kn=require("react-bootstrap-icons"),jn=function(e){return function(n){return(0,_.useSelector)((function(e){return e.auth})).user?m().createElement(e,n):m().createElement(I.Redirect,{to:"/signin"})}};var Sn=t(145),In={};In.styleTagTransform=H(),In.setAttributes=M(),In.insert=z().bind(null,"head"),In.domAPI=q(),In.insertStyleElement=R(),Z()(Sn.Z,In),Sn.Z&&Sn.Z.locals&&Sn.Z.locals;const On={component:jn((function(){var e,n=(0,_.useSelector)((function(e){return e.auth})),t=(0,_.useSelector)((function(e){return e.whispers})),r=t.whispererWhispers,a=t.paginationOptions,i=(0,_.useDispatch)();(0,d.useEffect)((function(){i(Fe({page:1,limit:10,userId:n.user._id}))}),[]),n.user&&(e=n.user.username.slice(1,2).toUpperCase());var s=a.limit,o=a.hasNextPage,c=a.nextPage;return m().createElement("main",{className:"profile"},m().createElement("div",{className:"profile-header"},m().createElement("div",null,m().createElement("div",{className:"profile-info"},n.user&&n.user.image_url?m().createElement("img",{src:n.user.image_url,alt:"user profile pic"}):m().createElement(fn,{letter:e}),m().createElement("div",null,m().createElement("span",null,"".concat(n.user?n.user.firstname:""," ").concat(n.user?n.user.lastname:""))," ",m().createElement("span",null,n.user?n.user.username:"")," ")),m().createElement("span",null,m().createElement(I.Link,{className:"edit-profile",to:"/signup"},"Edit Profile"))),m().createElement("div",null,m().createElement("span",null,m().createElement(kn.GeoAlt,{style:{marginRight:"5px"}}),"".concat(n.user?n.user.location:"")),m().createElement("span",null,m().createElement(kn.CalendarHeart,{style:{marginRight:"10px"}}),"Joined: ".concat(n.user?Me(n.user.createdAt):""))),m().createElement("div",null,m().createElement("span",null,"Followers: ".concat(n.user?(0,ge.size)(n.user.followers):"")),m().createElement("span",null,"Following: ".concat(n.user?(0,ge.size)(n.user.following):"")))),m().createElement("h3",null,n.user.username," Whispers"),0===r.length?m().createElement(an,null):m().createElement(Te(),{dataLength:r.length,next:function(){i(Fe({nextPage:c,limit:s,userId:n.user._id}))},hasMore:o,loader:m().createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},m().createElement(an,null)),endMessage:m().createElement("p",{style:{textAlign:"center"}},m().createElement("b",null,"Yay! You have seen it all"))},m().createElement("div",{className:"user-whispers"},r.map((function(e,t){return m().createElement(qe,Pe()({key:e._id},e,{userId:n.user._id}))})))))})),loadData:function(e,n,t){return e.dispatch(Fe(t))}};var _n=t(99),Cn={};function An(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Dn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?An(Object(t),!0).forEach((function(n){A()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):An(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}Cn.styleTagTransform=H(),Cn.setAttributes=M(),Cn.insert=z().bind(null,"head"),Cn.domAPI=q(),Cn.insertStyleElement=R(),Z()(_n.Z,Cn),_n.Z&&_n.Z.locals&&_n.Z.locals;const Pn={component:jn((function(){var e=(0,_.useSelector)((function(e){return e.auth})),n=(0,_.useDispatch)(),t=(0,I.useParams)(),r=(0,I.useHistory)(),a=(0,_.useSelector)((function(e){return e.whispers.whisper})),i=(0,d.useState)({title:a.title||"",image_url:a.image_url||"",whisper:a.whisper||"",whispererId:e.user&&e.user._id}),s=N()(i,2),o=s[0],c=s[1],u=(0,d.useState)(!1),l=N()(u,2),p=l[0],f=l[1];(0,d.useEffect)((function(){t.whisperId&&n(He(t.whisperId))}),[]);var h=function(e){var n=e.target,t=n.name,r=n.value;c((function(e){return Dn(Dn({},e),{},A()({},t,r))}))};return m().createElement("div",{className:"auth",id:"add-whisper"},m().createElement(ye,{onSubmit:function(e){e.preventDefault(),t.whisperId?(o.whisperId=t.whisperId,n(Je({whisperId:t.whisperId,updateData:o})),f(!p),r.push("/whispers/".concat(t.whisperId))):(n(Ye(o)),f(!p),r.push("/whispers"))}},m().createElement("h1",null,"Whisper To The World"),m().createElement(ve,{type:"text",text:"title",value:o.title,onChange:h}),m().createElement(ve,{type:"text",text:"image_url",value:o.image_url,onChange:h}),m().createElement(pn,{title:"Whisperings",name:"whisper",value:o.whisper,onChange:h}),m().createElement(be,{disable:p,type:"submit",text:"Add Whispering"})))})),loadData:function(e,n){return e.dispatch(He(n))}},Nn=require("socket.io-client");var Tn=t.n(Nn),Zn=function(e){return(0,D.toast)(e)},Ln=(0,K.createAsyncThunk)("users/get_a_user",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().get("http://localhost:3000/api/users/".concat(n));case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),qn=(0,K.createAsyncThunk)("users/follower_user",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().patch("http://localhost:3000/api/users/".concat(n.userId,"/follow"),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),Bn=(0,K.createAsyncThunk)("users/un_follower_user",function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().patch("http://localhost:3000/api/users/".concat(n.userId,"/unfollow"),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),zn=(0,K.createSlice)({name:"users",initialState:{users:[],user:{},notification:""},reducers:{},extraReducers:function(e){e.addCase(Ln.fulfilled,(function(e,n){e.user=n.payload})),e.addCase(qn.fulfilled,(function(e,n){Zn(n.payload.message)})),e.addCase(Bn.fulfilled,(function(e,n){Zn(n.payload.message)}))}}),Wn=zn.reducer;zn.actions;const Mn=Wn,Un=function(e){var n=e.image_url,t=e.username,r=e.date,a=e.message,i=e.to;return m().createElement("li",{className:"chat-container"},m().createElement("div",{className:"single-chat ".concat(i?"mine":"other")},m().createElement("div",{className:"chat-header"},m().createElement("div",{className:"chat-profile-container"},m().createElement(I.Link,{to:i?"/users/".concat(i):"/whisperer"},m().createElement("span",null,m().createElement("img",{src:n||"https://media.istockphoto.com/id/1442990932/photo/computer-woman-programmer-and-man-training-for-coding-cyber-security-or-software-on-computer.webp?b=1&s=170667a&w=0&k=20&c=67D7gNk7D8DR_gP-fms2FrLlFF0qh1jYOgrPEDcfvrw="}))," ",m().createElement("span",null,t))),m().createElement("div",{className:"chat-header-time"}," ",m().createElement("span",null,r))),m().createElement("div",{className:"chat-body"},m().createElement("p",null,a))))};var Rn=t(595),Fn={};Fn.styleTagTransform=H(),Fn.setAttributes=M(),Fn.insert=z().bind(null,"head"),Fn.domAPI=q(),Fn.insertStyleElement=R(),Z()(Rn.Z,Fn),Rn.Z&&Rn.Z.locals&&Rn.Z.locals;const Hn=function(e){var n=e.display,t=e.setDisplay,r=e.value,a=e.onChange,i=e.handleSendMessage,s=e.chatMessages;return m().createElement("div",{className:"chats-container",style:{display:n?"block":"none",zIndex:"1"}},m().createElement("div",{className:"chats"},m().createElement("svg",{className:"chat-cancel",onClick:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"3em",height:"3em",fill:"#000"},m().createElement("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})),m().createElement("ul",null,s.length>0?s.map((function(e,n){return m().createElement(Un,Pe()({key:n},e))})):m().createElement("h1",null,"Check Out User Profiles To Chat With Other Users")),m().createElement("div",{className:"chat-input-container"},m().createElement("input",{type:"text",placeholder:"Type a message",value:r,onChange:a}),m().createElement("button",{onClick:i},"Send"))))};var Yn=Tn()("http://localhost:3000"),Jn=u()("app:userPage");Yn.onAny((function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];Jn(e,t)}));const Gn={component:jn((function(){var e=(0,d.useState)(!1),n=N()(e,2),t=n[0],r=n[1],a=(0,d.useState)(!1),i=N()(a,2),s=i[0],o=i[1],c=(0,_.useSelector)((function(e){return e.auth})),u=(0,_.useSelector)((function(e){return e.whispers})),l=u.paginationOptions,p=u.whispererWhispers,f=(0,_.useSelector)((function(e){return e.users.user})),h=(0,I.useParams)(),g=(0,_.useDispatch)(),v=(0,d.useState)([]),w=N()(v,2),x=w[0],y=w[1],b=(0,d.useState)(""),E=N()(b,2),k=E[0],j=E[1],S=c.user?c.user._id:null,O=f?f._id:null;(0,d.useEffect)((function(){g(Fe({page:1,limit:10,userId:h.userId})),g(Ln(h.userId))}),[t]),(0,d.useEffect)((function(){Yn.on("connect",(function(){Jn("Socket connection successful")}));var e=localStorage.getItem("chatMessages");return e&&y(JSON.parse(e)),Yn.emit("join",S),Yn.on("private-message",(function(e){y((function(n){return[].concat(ze()(n),[e])})),localStorage.setItem("chatMessages",JSON.stringify([].concat(ze()(x),[e])))})),function(){Yn.off("connect"),Yn.off("disconnect"),Yn.off("private-message")}}),[]);var C,A,D=l.limit,P=l.hasNextPage,T=l.nextPage;function Z(){o(!s)}return c.user&&0!==Object.keys(f).length&&(C=f.followers[c.user._id]),f.username&&(A=f.username.slice(1,2).toUpperCase()),m().createElement("main",{className:"profile"},m().createElement("div",{className:"profile-header"},m().createElement("div",null,m().createElement("div",{className:"profile-info"},f&&f.image_url?m().createElement("img",{src:f.image_url,alt:"user profile pic"}):m().createElement(fn,{letter:A}),m().createElement("div",null,m().createElement("span",null,"".concat(f?f.firstname:""," ").concat(f?f.lastname:""))," ",m().createElement("span",null,f?f.username:"")," ")),m().createElement("div",null,m().createElement("button",{className:"follow-button",onClick:function(){C?(g(Bn({userId:h.userId,whispererId:c.user._id})),r(!t)):(g(qn({userId:h.userId,whispererId:c.user._id})),r(!t))}},C?"Following":"Follow"),m().createElement("svg",{className:"envelope",onClick:Z,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"7em",height:"3em",fill:"currentColor"},m().createElement("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"})))),m().createElement("div",null,m().createElement("span",null,m().createElement(kn.GeoAlt,{style:{marginRight:"5px"}}),"".concat(f?f.location:"")),m().createElement("span",null,m().createElement(kn.CalendarHeart,{style:{marginRight:"10px"}}),"Joined: ".concat(f?Me(f.createdAt):""))),m().createElement("div",null,m().createElement("span",null,"Followers: ".concat(f?(0,ge.size)(f.followers):"")),m().createElement("span",null,"Following: ".concat(f?(0,ge.size)(f.following):"")))),m().createElement("h3",null,f.username," Whispers"),0===p.length?m().createElement(an,null):m().createElement(Te(),{dataLength:p.length,next:function(){g(Fe({nextPage:T,limit:D,userId:h.userId}))},hasMore:P,loader:m().createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},m().createElement(an,null)),endMessage:m().createElement("p",{style:{textAlign:"center"}},m().createElement("b",null,"Yay! You have seen it all"))},m().createElement("div",{className:"user-whispers"},p.map((function(e,n){return m().createElement(qe,Pe()({key:e._id},e))})))),m().createElement(Hn,{display:s,setDisplay:Z,value:k,onChange:function(e){j(e.target.value)},chatMessages:x,handleSendMessage:function(){var e=new Date;e=e.getHours()+":"+e.getMinutes();var n={to:O,message:k,image_url:c.user.image_url?c.user.image_url:"https://plus.unsplash.com/premium_photo-1682140993556-f263e434000b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8Y29kaW5nfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60",date:e,username:c.user.username};Yn.emit("private-message",n),y((function(e){return[].concat(ze()(e),[n])})),j("")}}))})),loadData:function(e,n,t){return e.dispatch(Fe(n))}};var Vn=t(726),$n={};$n.styleTagTransform=H(),$n.setAttributes=M(),$n.insert=z().bind(null,"head"),$n.domAPI=q(),$n.insertStyleElement=R(),Z()(Vn.Z,$n),Vn.Z&&Vn.Z.locals&&Vn.Z.locals;var Kn=t(251),Xn={};Xn.styleTagTransform=H(),Xn.setAttributes=M(),Xn.insert=z().bind(null,"head"),Xn.domAPI=q(),Xn.insertStyleElement=R(),Z()(Kn.Z,Xn),Kn.Z&&Kn.Z.locals&&Kn.Z.locals;const Qn={component:function(){return m().createElement("div",{className:"about-page-container"},m().createElement("h1",null,"Discover Whisper-Social App: Connect, Share, Thrive"),m().createElement("p",null,"Welcome to ",m().createElement("span",null,"Whisper-Social"),", where the world comes together to connect, share, and thrive. Our platform is more than just another social media site; it's a vibrant and inclusive community that empowers you to explore new horizons, connect with friends and like-minded individuals, and make your mark on the digital world. Whether you're here to forge new friendships, showcase your talents, or simply stay updated with the latest trends, ",m().createElement("span",null,"Whisper-Social")," is your canvas to express, engage, and grow. Join us and experience the magic of meaningful connections in the digital age."),m().createElement("p",null,"At ",m().createElement("span",null,"Whisper-Social"),", we believe in the power of connecting people across the globe. We've built a platform that fosters creativity, encourages positive interactions, and provides a space for everyone to have their voice heard. Our commitment to user privacy and security ensures a safe and welcoming environment for all. Whether you're a content creator, an influencer, a small business owner, or simply looking to stay connected with friends and family,"," ",m().createElement("span",null,"Whisper-Social")," offers the tools and features to support your unique social media journey. Join us in shaping the future of online communities, one whisper, one conversation, and one connection at a time. Welcome to ",m().createElement("span",null,"Whisper-Social"),", where you are the heart of our community."))}};function et(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function nt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?et(Object(t),!0).forEach((function(n){A()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):et(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const tt=[{component:function(e){var n=e.route,t=(0,_.useDispatch)();return(0,d.useEffect)((function(){var e=localStorage.getItem("auth");e&&t(oe(e))}),[t]),m().createElement("div",null,m().createElement(ue,null),(0,b.renderRoutes)(n.routes),m().createElement(D.ToastContainer,null),m().createElement(de,null))},routes:[nt(nt({},he),{},{path:"/",exact:!0}),nt(nt({},Oe),{},{path:"/signup"}),nt(nt({},Ae),{},{path:"/signin"}),nt(nt({},cn),{},{path:"/whispers",exact:!0}),nt(nt({},En),{},{path:"/whispers/:whisperId"}),nt(nt({},On),{},{path:"/whisperer"}),nt(nt({},Pn),{},{path:"/addwhisper",exact:!0}),nt(nt({},Gn),{},{path:"/users/:userId"}),nt(nt({},Pn),{},{path:"/addwhisper/:whisperId"}),nt(nt({},Qn),{},{path:"/about"}),{component:function(e){var n=e.staticContext;return(void 0===n?{}:n).notFound=!0,m().createElement("div",{className:"notfound-page-container"},m().createElement("div",{className:"notfound-page-image-container"},m().createElement("img",{src:"https://media.istockphoto.com/id/1456566772/photo/page-not-found-404-design-404-error-web-page-concept-on-a-computer-screen-3d-illustration.webp?b=1&s=170667a&w=0&k=20&c=w__eFEK9WtdPvxVzxWJb1bJpgTqyA-T7OgPhk8KNnng="})),m().createElement("p",null,"You didn't break the internet, but we can't find what you are looking for."),m().createElement(I.Link,{to:"/"},"Head Back Home"))}}]}];var rt=(0,K.configureStore)({reducer:{auth:ce,users:Mn,whispers:nn}});const at=require("passport");var it=t.n(at);const st=require("passport-local"),ot=require("bcrypt");var ct=new y.Schema({username:{type:String,required:!0,min:2},firstname:{type:String,required:!0},lastname:{type:String,required:!0},email:{type:String,required:!0},password:{type:String,required:!0,min:8},image_url:{type:String,default:""},location:{type:String,default:"Pale Blue Dot"},followers:{type:Array,default:[]},following:{type:Array,default:[]}},{timestamps:!0});ct.pre("save",function(){var e=n()(a().mark((function e(n,t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=this).username="@"+r.username,e.next=4,(0,ot.hash)(r.password,+process.env.SALT_ROUND);case 4:r.password=e.sent,n();case 6:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()),ct.methods.verifyPassword=function(){var e=n()(a().mark((function e(n,t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,ot.compare)(n,t));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();const ut=(0,y.model)("User",ct);var lt=u()("app:authController");const pt=function(){var e=function(){var e=n()(a().mark((function e(n,t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.logout((function(e){return e?(lt(e),t.status(500).json(e)):t.status(200).json({user:null,message:"You Successfully Logged Out."})}));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return{signin:function(e,n){it().authenticate("signin",(function(t,r,a){if(t)return lt(t),n.status(500).json({err:t,info:a});e.login(r,(function(e){if(e)return lt(e),n.status(500).json({err:e,info:"An error occurred during login, please try again"});var t=r.username,i=r.firstname,s=r.lastname,o=r.location,c=r.image_url,u=r.email,l=r.followers,p=r.following,d=r.createdAt,m=r._id;return n.status(200).json({user:{username:t,firstname:i,lastname:s,location:o,image_url:c,email:u,followers:l,following:p,createdAt:d,_id:m},info:a})}))}))(e,n)},signup:function(e,n){it().authenticate("signup",(function(t,r,a,i){if(t)return lt(t),n.status(500).json(t);e.login(r,(function(e){if(e)return lt(e),n.status(500).json({err:e,info:a});var t=r.username,i=r.firstname,s=r.lastname,o=r.location,c=r.image_url,u=r.email,l=r.followers,p=r.following,d=r.createdAt,m=r._id,f=r.whispers;return n.status(201).json({user:{username:t,firstname:i,lastname:s,location:o,image_url:c,email:u,followers:l,following:p,createdAt:d,_id:m,whispers:f},info:a})}))}))(e,n)},signout:e}}();var dt=pt.signin,mt=pt.signup,ft=pt.signout,ht=u()("app:userByIdMiddleware"),gt=function(){var e=n()(a().mark((function e(n,t,r){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ut.findById(n.params.userId);case 3:if(i=e.sent){e.next=6;break}return e.abrupt("return",t.status(404).json({message:"User Not Found"}));case 6:n.foundUser=i,r(),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),ht(e.t0),e.abrupt("return",t.status(500).json(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n,t,r){return e.apply(this,arguments)}}();const vt=require("mongoose-paginate-v2");var wt=t.n(vt),xt=new y.Schema({title:{type:String,required:!0},image_url:{type:String,required:!0},whisper:{type:String,required:!0},whispererId:{type:String,required:!0}},{timestamps:!0});xt.plugin(wt());const yt=(0,y.model)("Whisper",xt);var bt=new y.Schema({whisperId:{type:String,required:!0},likedById:{type:String,required:!0}},{timestamps:!0});const Et=(0,y.model)("Like",bt);function kt(e,n){return jt.apply(this,arguments)}function jt(){return(jt=n()(a().mark((function e(n,t){var r,i,s,o,c,u,l,p,d,m,f,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut.findById(n.whispererId);case 2:if(r=e.sent,i=!1,void 0===t.user){e.next=8;break}return e.next=7,Et.findOne({likedById:t.user._id,whisperId:n._id});case 7:s=e.sent;case 8:return o=n.title,c=n.image_url,u=n.whispererId,l=n.whisper,p=n.createdAt,d=r.username,m=r.firstname,f=r.lastname,void 0!==t.user&&t.user._id===u&&(i=!0),h=Object.assign({},{title:o,likeStatus:s,whisperStatus:i,image_url:c,whispererId:u,whisper:l,createdAt:p,username:d,firstname:m,lastname:f},{links:{filteredBy:"".concat(t.headers.host,"/api/whispers/?whispererId=").concat(n.whispererId)}}),e.abrupt("return",h);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u()("app:serverUtils");var St=function(e){var n={};return e.forEach((function(e){Object.keys(e).forEach((function(t){if(Object.keys(e[t]).length>5){var r={};for(var a in e[t])"password"!==a&&"email"!==a&&"updatedAt"!==a&&(r[a]=e[t][a]);n[r._id]=r}}))})),n},It=function(){var e=n()(a().mark((function e(t,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.map(function(){var e=n()(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.findById(n);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Ot=u()("app:usersController");const _t=function(){var e=function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ut.find();case 3:return r=e.sent,i=r.map((function(e){return Object.assign({},e._doc,{links:{self:"".concat(n.headers.host,"/api/users/").concat(e._id)}})})),e.abrupt("return",t.status(200).json(i));case 8:return e.prev=8,e.t0=e.catch(0),Ot(e.t0),e.abrupt("return",t.status(500).json(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,t){return e.apply(this,arguments)}}(),t=function(){var e=n()(a().mark((function e(n,t){var r,i,s,o,c,u,l,p,d,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n.foundUser,i=r._doc,e.next=5,yt.find({whispererId:i._id});case 5:return s=e.sent,e.next=8,It(i.followers,ut);case 8:return o=e.sent,e.next=11,It(i.following,ut);case 11:return c=e.sent,e.next=14,Promise.all(o);case 14:return u=e.sent,e.next=17,Promise.all(c);case 17:return l=e.sent,p=St(u),d=St(l),delete i.password,delete i.email,m=Object.assign({},i,{followers:p,following:d},{userWhispers:s},{links:{filteredBy:"".concat(n.headers.host,"/api/whispers/?whispererId=").concat(i._id)}}),e.abrupt("return",t.status(200).json(m));case 26:return e.prev=26,e.t0=e.catch(0),Ot(e.t0),e.abrupt("return",t.status(500).json(e.t0));case 30:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(n,t){return e.apply(this,arguments)}}(),r=function(){var e=n()(a().mark((function e(n,t){var r,i,s,o,c,u,l,p,d,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.foundUser).username=r.username.slice(1),Object.entries(n.body).forEach((function(e){var n=N()(e,2),t=n[0],a=n[1];r[t]=a})),e.next=5,r.save();case 5:return e.next=7,yt.find({whispererId:r._id});case 7:return i=e.sent,s=r._doc,e.next=11,It(s.followers,ut);case 11:return o=e.sent,e.next=14,It(s.following,ut);case 14:return c=e.sent,e.next=17,Promise.all(o);case 17:return u=e.sent,e.next=20,Promise.all(c);case 20:return l=e.sent,p=St(u),d=St(l),delete s.password,delete s.email,m=Object.assign({},s,{followers:p,following:d},{userWhispers:i},{links:{filteredBy:"".concat(n.headers.host,"/api/whispers/?whispererId=").concat(s._id)}}),e.abrupt("return",t.status(200).json({userWithLink:m,info:"Account Successfully Updated."}));case 27:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),i=function(){var e=n()(a().mark((function e(n,t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n.foundUser,!n.user){e.next=11;break}if(n.user._id!==r._id){e.next=8;break}return r.remove(),e.abrupt("return",t.status(200).json({message:"Account Successfully Deleted."}));case 8:return e.abrupt("return",t.status(403).json({message:"You can only delete your account."}));case 9:e.next=12;break;case 11:return e.abrupt("return",t.status(403).json({message:"You must Login to perform this operation."}));case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),Ot(e.t0),e.abrupt("return",t.status(500).json(e.t0));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(n,t){return e.apply(this,arguments)}}(),s=function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.params.userId,e.prev=1,e.next=4,ut.updateOne({_id:r},{$push:{followers:n.body.whispererId}});case 4:return e.next=6,ut.updateOne({_id:n.body.whispererId},{$push:{following:r}});case 6:return e.next=8,ut.findById(r);case 8:return i=e.sent,e.abrupt("return",t.status(201).json({message:"Successfully Followed ".concat(i.username)}));case 12:return e.prev=12,e.t0=e.catch(1),Ot(e.t0),e.abrupt("return",t.status(500).json(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(n,t){return e.apply(this,arguments)}}(),o=function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.params.userId,e.prev=1,e.next=4,ut.updateOne({_id:r},{$pull:{followers:n.body.whispererId}});case 4:return e.next=6,ut.updateOne({_id:n.body.whispererId},{$pull:{following:r}});case 6:return e.next=8,ut.findById(r);case 8:return i=e.sent,e.abrupt("return",t.status(201).json({message:"Successfully Unfollowed ".concat(i.username)}));case 12:return e.prev=12,e.t0=e.catch(1),Ot(e.t0),e.abrupt("return",t.status(500).json(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(n,t){return e.apply(this,arguments)}}();return{getUsers:e,getUser:t,updateUser:r,deleteUser:i,followUser:s,unFollowUser:o}}();var Ct=u()("app:whispersController");const At=function(){var e=function(){var e=n()(a().mark((function e(t,r){var i,s,o,c,u,l,p,d,m,f,h,g,v,w;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={},t.query.whispererId&&(i.whispererId=t.query.whispererId),s={page:+t.query.page||1,limit:+t.query.limit||10,sort:{createdAt:"desc"},collation:{locale:"en"}},e.next=6,yt.paginate(i,s);case 6:o=e.sent,c=o.docs,u=o.totalDocs,l=o.limit,p=o.totalPages,d=o.page,m=o.pagingCount,f=o.hasPrevPage,h=o.hasNextPage,g=o.prevPage,v=o.nextPage,w=c.map(function(){var e=n()(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut.findById(n.whispererId);case 2:return r=e.sent,e.abrupt("return",Object.assign({},n._doc,{whispererUsername:r.username},{links:{self:"".concat(t.headers.host,"/api/whispers/").concat(n._id)}}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Promise.all(w).then((function(e){return e=Object.assign({},{whispers:e},{paginationOptions:{totalDocs:u,limit:l,totalPages:p,page:d,pagingCount:m,hasPrevPage:f,hasNextPage:h,prevPage:g,nextPage:v}}),r.status(200).json(e)})).catch((function(e){return Ct(e),r.status(500).json(e)})),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),Ct(e.t0),e.abrupt("return",r.status(500).json(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n,t){return e.apply(this,arguments)}}(),t=function(){var e=n()(a().mark((function e(n,t){var r,i,s,o,c,u,l,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.body,i=r.title,s=r.image_url,o=r.whisper,c=r.whispererId,e.prev=1,u=new yt({title:i,whisper:o,whispererId:c,image_url:s}),e.next=5,u.save();case 5:return l=e.sent,e.next=8,kt(l,n);case 8:return p=e.sent,e.abrupt("return",t.status(201).json(p));case 12:return e.prev=12,e.t0=e.catch(1),Ct(e.t0),e.abrupt("return",t.status(500).json(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(n,t){return e.apply(this,arguments)}}(),r=function(){var e=n()(a().mark((function e(n,t){var r,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.params.whisperId,e.prev=1,e.next=4,yt.findById(r);case 4:if(i=e.sent){e.next=7;break}return e.abrupt("return",t.status(404).json({message:"Whisper Not Found."}));case 7:return e.next=9,kt(i,n);case 9:return s=e.sent,e.abrupt("return",t.status(200).json(s));case 13:return e.prev=13,e.t0=e.catch(1),Ct(e.t0),e.abrupt("return",t.status(500).json(e.t0));case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n,t){return e.apply(this,arguments)}}(),i=function(){var e=n()(a().mark((function e(n,t){var r,i,s,o,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.body,i=r.whisperId,s=r.whispererId,e.prev=1,e.next=4,yt.findOne({whispererId:s,_id:i});case 4:if(o=e.sent){e.next=7;break}return e.abrupt("return",t.status(404).json({message:"Whisper Not Found."}));case 7:return Object.entries(n.body).forEach((function(e){var n=N()(e,2),t=n[0],r=n[1];o[t]=r})),e.next=10,o.save();case 10:return e.next=12,kt(o,n);case 12:return c=e.sent,e.abrupt("return",t.status(200).json(c));case 16:return e.prev=16,e.t0=e.catch(1),Ct(e.t0),e.abrupt("return",t.status(500).json(e.t0));case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(n,t){return e.apply(this,arguments)}}(),s=function(){var e=n()(a().mark((function e(n,t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yt.findOneAndDelete({_id:n.params.whisperId,whispererId:n.user._id});case 3:return r=e.sent,e.abrupt("return",t.status(200).json(r));case 7:return e.prev=7,e.t0=e.catch(0),Ct(e.t0),e.abrupt("return",t.status(200).json(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}();return{getwhispers:e,postNewWhisper:t,getwhisper:r,updateWhisper:i,deleteWhisper:s}}();u()("app:whispersRoutes");var Dt=new y.Schema({comment:{type:String,required:!0},commentById:{type:String,required:!0},whisperId:{type:String,required:!0}},{timestamps:!0});const Pt=(0,y.model)("Comment",Dt);var Nt=u()("app:commentController");const Tt=function(){var e=function(){var e=n()(a().mark((function e(t,r){var i,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={},t.query.whisperId&&(i.whisperId=t.query.whisperId),t.query.commentBy&&(i.commentBy=t.query.commentBy),e.next=6,Pt.find(i);case 6:s=e.sent,o=s.map(function(){var e=n()(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut.findById(n.commentById);case 2:return r=e.sent,e.abrupt("return",Object.assign({},n._doc,{username:r.username,image_url:r.image_url},{links:{filteredBy:"".concat(t.headers.host,"/api/comments/?commentBy=").concat(n.commentById)}}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Promise.all(o).then((function(e){return r.status(200).json(e)})).catch((function(e){return Nt(e),r.status(500).json(e)})),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),Nt(e.t0),e.abrupt("return",r.status(500).json(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,t){return e.apply(this,arguments)}}(),t=function(){var e=n()(a().mark((function e(n,t){var r,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new Pt(n.body),e.next=4,r.save();case 4:return e.next=6,ut.findById(r.commentById);case 6:return i=e.sent,s=Object.assign({},r._doc,{image_url:i.image_url,username:i.username}),e.abrupt("return",t.status(201).json(s));case 11:return e.prev=11,e.t0=e.catch(0),Nt(e.t0),e.abrupt("return",t.status(500).json(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,t){return e.apply(this,arguments)}}(),r=function(){var e=n()(a().mark((function e(n,t){var r,i,s,o,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n.foundComment,i=r._doc,e.next=5,ut.findById(i.commentById);case 5:return s=e.sent,e.next=8,Pt.findOne({commentById:n.user._id,whisperId:i.whisperId});case 8:return o=e.sent,c=Object.assign({},i,{commentStatus:o,image_url:s.image_url,username:s.username}),e.abrupt("return",t.status(200).json(c));case 13:return e.prev=13,e.t0=e.catch(0),Nt(e.t0),e.abrupt("return",t.status(500).json(e.t0));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n,t){return e.apply(this,arguments)}}(),i=function(){var e=n()(a().mark((function e(n,t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.foundComment,n.user._id===r.commentById&&Object.entries(n.body).forEach((function(e){var n=N()(e,2),t=n[0],a=n[1];r[t]=a})),e.next=4,r.save();case 4:return e.abrupt("return",t.status(200).json(r));case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),s=function(){var e=n()(a().mark((function e(n,t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.foundComment,e.prev=1,r.commentById!==n.user._id){e.next=8;break}return e.next=5,r.remove();case 5:return e.abrupt("return",t.status(200).json({message:"Comment Successfully Deleted."}));case 8:return e.abrupt("return",t.status(403).json({message:"You Can Only Delete Your Own comment"}));case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(1),Nt(e.t0),e.abrupt("return",t.status(500).json(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n,t){return e.apply(this,arguments)}}();return{getComments:e,getComment:r,postNewComment:t,updateComment:i,deleteComment:s}}();var Zt=u()("app:commentByIdMiddleware"),Lt=function(){var e=n()(a().mark((function e(n,t,r){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pt.findById(n.params.commentId);case 3:if(i=e.sent){e.next=6;break}return e.abrupt("return",t.status(403).json({message:"comment Not Found"}));case 6:n.foundComment=i,r(),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),Zt(e.t0),e.abrupt("return",t.status(500).json(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n,t,r){return e.apply(this,arguments)}}(),qt=u()("app:likeController");const Bt=function(){var e=function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},n.query.likedBy&&(r.likedById=n.query.likedBy),n.query.whisperId&&(r.whisperId=n.query.whisperId),e.prev=3,e.next=6,Et.find(r);case 6:return i=e.sent,e.abrupt("return",t.status(200).json(i));case 10:return e.prev=10,e.t0=e.catch(3),qt(e.t0),e.abrupt("return",t.status(500).json(e.t0));case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n,t){return e.apply(this,arguments)}}(),t=function(){var e=n()(a().mark((function e(n,t){var r,i,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.body,i=r.whisperId,s=r.likedById,e.prev=1,o=new Et({whisperId:i,likedById:s}),e.next=5,o.save();case 5:return e.abrupt("return",t.status(201).json(o));case 8:return e.prev=8,e.t0=e.catch(1),qt(e.t0),e.abrupt("return",t.status(500).json(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n,t){return e.apply(this,arguments)}}(),r=function(){var e=n()(a().mark((function e(n,t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n.isAuthenticated()){e.next=6;break}return e.next=4,Et.findOne({likedById:n.user._id});case 4:return r=e.sent,e.abrupt("return",t.status(200).json(r));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),qt(e.t0),e.abrupt("return",t.status(500).json(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,t){return e.apply(this,arguments)}}(),i=function(){var e=n()(a().mark((function e(n,t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.params.likeId,e.prev=1,!n.isAuthenticated()){e.next=9;break}return e.next=5,Et.findOneAndDelete({_id:r,likedById:n.user._id});case 5:return i=e.sent,e.abrupt("return",t.status(200).json(i));case 9:return e.abrupt("return",t.status(403).json({message:"Please Login To Continue."}));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),qt(e.t0),e.abrupt("return",t.status(500).json(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(n,t){return e.apply(this,arguments)}}();return{getLike:r,getLikes:e,postNewLike:t,deleteLike:i}}();(0,i.config)();var zt,Wt,Mt=process.env.PORT||3e3,Ut=u()("app"),Rt=o()(),Ft=x()(v()),Ht=(0,S.rateLimit)({windowMs:9e5,limit:100,standardHeaders:"draft-7",legacyHeaders:!1}),Yt=new Ft({uri:process.env.MONGO_CLOUD,collection:"whisperDbSessions"});Rt.set("view engine","ejs"),Rt.set("views","views"),Rt.use(h()()),Rt.use(o().static("public")),Rt.use(o().urlencoded({extended:!0})),Rt.use(o().json()),Rt.use(p()("tiny")),(zt=n()(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,y.connect)(process.env.MONGO_CLOUD);case 3:Ut("Successfully connected to Database"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ut(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),function(){return zt.apply(this,arguments)})(),Rt.use(v()({secret:process.env.SESSION_SECRET,saveUninitialized:!1,resave:!0,store:Yt,cookie:{maxAge:290304e5}})),function(e){e.use(it().initialize()),e.use(it().session()),it().serializeUser((function(e,n){return n(null,e)})),it().deserializeUser((function(e,n){return n(null,e)})),it().use("signup",new st.Strategy({usernameField:"email",passwordField:"password",passReqToCallback:!0},function(){var e=n()(a().mark((function e(n,t,r,i){var s,o,c,u,l,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut.findOne({email:t});case 2:if(!e.sent){e.next=5;break}return e.abrupt("return",i(null,!1,{message:"A User With This Email Already Exist"}));case 5:return e.prev=5,s=n.body,o=s.username,c=s.firstname,u=s.lastname,l=s.location,p=new ut({username:o,firstname:c,lastname:u,location:l,email:t,password:r,image_url:n.body.image_url}),e.next=10,p.save();case 10:return e.abrupt("return",i(null,p,{message:"Account successfully Created"}));case 13:return e.prev=13,e.t0=e.catch(5),console.log(e.t0),e.abrupt("return",i(e.t0,!1,{message:"An Error Occurred While registering your account: ".concat(JSON.stringify(e.t0))}));case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(n,t,r,a){return e.apply(this,arguments)}}())),it().use("signin",new st.Strategy({usernameField:"email",passwordField:"password",passReqToCallback:!0},function(){var e=n()(a().mark((function e(n,t,r,i){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut.findOne({email:t});case 2:if(s=e.sent){e.next=5;break}return e.abrupt("return",i(null,!1,{message:"Incorrect Email Entered."}));case 5:if(s.verifyPassword(r,s.password)){e.next=7;break}return e.abrupt("return",i(null,!1,{message:"Incorrect Password Entered."}));case 7:return e.abrupt("return",i(null,s,{message:"You've been successfully logged in."}));case 8:case"end":return e.stop()}}),e)})));return function(n,t,r,a){return e.apply(this,arguments)}}()))}(Rt),Rt.use(Ht),Rt.use("/api/auth",((Wt=(0,s.Router)()).route("/signup").post(mt),Wt.route("/signin").post(dt),Wt.route("/signout").get(ft),Wt)),Rt.use("/api/users",function(){var e=_t.getUsers,n=_t.getUser,t=_t.updateUser,r=_t.deleteUser,a=_t.followUser,i=_t.unFollowUser,o=(0,s.Router)();return o.route("/").get(e),o.route("/:userId").all(gt).get(n).patch(t).delete(r),o.route("/:userId/follow").patch(a),o.route("/:userId/unfollow").patch(i),o}()),Rt.use("/api/whispers",function(){var e=At.getwhispers,n=At.postNewWhisper,t=At.getwhisper,r=At.updateWhisper,a=At.deleteWhisper,i=(0,s.Router)();return i.route("/").get(e).post(n),i.route("/:whisperId").get(t).patch(r).delete(a),i}()),Rt.use("/api/comments",function(){var e=(0,s.Router)(),n=Tt.getComments,t=Tt.getComment,r=Tt.postNewComment,a=Tt.updateComment,i=Tt.deleteComment;return e.route("/").get(n).post(r),e.route("/:commentId").all(Lt).get(t).patch(a).delete(i),e}()),Rt.use("/api/likes",function(){var e=(0,s.Router)(),n=Bt.getLike,t=Bt.getLikes,r=Bt.postNewLike,a=Bt.deleteLike;return e.route("/").get(t).post(r),e.route("/:likeId").get(n).delete(a),e}()),Rt.get("*",(function(e,n,t){"/favicon.ico"===e.originalUrl?n.status(204).end():t()}),(function(e,n){var t,r=e.originalUrl.split("/")[2];e.user&&(t=e.user._id);var a=(0,b.matchRoutes)(tt,e.path).map((function(e){var n=e.route;return e.match,n.loadData?n.loadData(rt,r,t):Promise.resolve(null)}));Promise.all(a).then((function(){var t={},r=function(e,n,t){return(0,O.renderToString)(m().createElement(_.Provider,{store:n},m().createElement(I.StaticRouter,{location:e.path,context:t},(0,b.renderRoutes)(tt))))}(e,rt,t),a=rt.getState();return t.action?n.status(302).redirect(t.url):(!0===t.notFound&&n.status(404),n.render("index",{content:r,initialState:a}))}))}));var Jt=k().createServer(Rt),Gt={},Vt={};new j.Server(Jt,{cors:{origin:"*",methods:["GET","POST"]}}).on("connection",(function(e){e.on("join",(function(n){e.userId=n,Gt[n]=e,Vt[n]&&(Vt[n].forEach((function(n){e.emit("private-message",n)})),delete Vt[n])})),e.on("private-message",(function(n){var t=n.to,r=n.message,a=n.image_url,i=n.date,s=n.username;Gt[t]?Gt[t].emit("private-message",{from:e.userId,message:r,image_url:a,date:i,username:s}):(Vt[t]||(Vt[t]=[]),Vt[t].push({from:e.userId,message:r,image_url:a,date:i,username:s}))})),e.on("disconnect",(function(){e.userId&&delete Gt[e.userId]}))})),Jt.listen(Mt,(function(){return Ut("Server is running on port:".concat(Mt," "))}))})()})();